<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no" />
    <title>Simple Map</title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.23/esri/css/esri.css">
    <style>
        html, body, #map {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <script src="https://js.arcgis.com/3.23/"></script>
    <script>
        var map;
        var fieldNames = [];
        require(["esri/map", "esri/tasks/query", "esri/tasks/QueryTask", "dojo/dom", "dojo/dom-construct", "dojo/domReady!"], function (Map, Query, QueryTask, dom, domConstruct) {
            map = new Map("map", {
                basemap: "topo",  //For full list of pre-defined basemaps, navigate to http://arcg.is/1JVo6Wd
                center: [-107.205, 38.944], // longitude, latitude
                zoom: 7
            });
            var queryURL = "https://gis.colorado.gov/oit/rest/services/OIT/FeatureServices_Public/MapServer/1";
            var populateQuery = new Query();
            populateQuery.outFields = ['*'];
            populateQuery.returnDistinctValues = true;
            populateQuery.where = "1=1";
            var populateQueryTask = new QueryTask(queryURL);
            populateQueryTask.execute(populateQuery, function (results) {
                //push data to memStore or array
                console.log(results.fields);
                

                results.fields.forEach(function (field) {
                    console.log("Pushing: " + field)
                    fieldNames.push(field)
                })
            }, function (error) {
                console.log(error)
            });
            //
            console.log(fieldNames)
        });
        
    </script>
</head>

<body>
   <div style="width:100px; height:100px;">
       <select style="width:100%;">
       </select>
   </div>
    <div id="map"></div>
</body>
</html>
